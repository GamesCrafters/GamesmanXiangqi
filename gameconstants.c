#include "gameconstants.h"

/* +2 to pieceIdx to get index in this array.   K,k,A,a,B,b,P,p,N,n,C,c,R,r,- */
const int8_t pieceIdxLookup[INVALID_IDX + 3] = {1,1,2,2,1,1,1,1,1,2,3,4,5,6,0};

/**
 * Important: +2 to pieceIdx to get index in this array.
 * 
 * Stores the region where the given piece can move freely. For a non-pawn
 * piece, its scope is the smallest rectangular region that contains
 * all the possible slots it can ever reach. For pawns, the scope is the
 * opponent's half board not including the slots where pawns can only
 * move forward.
 */
const scope_t scopes[INVALID_IDX + 3] = {
 /* {rowMin, colMin, rowMax, colMax} */
    {7     , 3     , 9     , 5},    // Red king.
    {0     , 3     , 2     , 5},    // Black king.
    {7     , 3     , 9     , 5},    // Red advisor.
    {0     , 3     , 2     , 5},    // Black advisor.
    {5     , 0     , 9     , 8},    // Red bishop.
    {0     , 0     , 4     , 8},    // Black bishop.
    {0     , 0     , 4     , 8},    // Red pawn.
    {5     , 0     , 9     , 8},    // Black pawn.
    {0     , 0     , 9     , 8},    // Red knight.
    {0     , 0     , 9     , 8},    // Black knight.
    {0     , 0     , 9     , 8},    // Red canon.
    {0     , 0     , 9     , 8},    // Black canon.
    {0     , 0     , 9     , 8},    // Red rook.
    {0     , 0     , 9     , 8},    // Black rook.
    {0     , 0     , 9     , 8},    // Blank space.
};

const bool validSlotLookup[INVALID_IDX + 3][10][9] = {
    /* Red king. */
    {
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},

        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,1,1,1,0,0,0},
        {0,0,0,1,1,1,0,0,0},
        {0,0,0,1,1,1,0,0,0},
    },
    /* Black king. */
    {
        {0,0,0,1,1,1,0,0,0},
        {0,0,0,1,1,1,0,0,0},
        {0,0,0,1,1,1,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},

        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
    },

    /* Red advisor. */
    {
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},

        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,1,0,1,0,0,0},
        {0,0,0,0,1,0,0,0,0},
        {0,0,0,1,0,1,0,0,0},
    },
    /* Black advisor. */
    {
        {0,0,0,1,0,1,0,0,0},
        {0,0,0,0,1,0,0,0,0},
        {0,0,0,1,0,1,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
    },

    /* Red bishop. */
    {
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},

        {0,0,1,0,0,0,1,0,0},
        {0,0,0,0,0,0,0,0,0},
        {1,0,0,0,1,0,0,0,1},
        {0,0,0,0,0,0,0,0,0},
        {0,0,1,0,0,0,1,0,0},
    },
    /* Black bishop. */
    {
        {0,0,1,0,0,0,1,0,0},
        {0,0,0,0,0,0,0,0,0},
        {1,0,0,0,1,0,0,0,1},
        {0,0,0,0,0,0,0,0,0},
        {0,0,1,0,0,0,1,0,0},
        
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
    },

    /* Red pawn. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},

        {1,0,1,0,1,0,1,0,1},
        {1,0,1,0,1,0,1,0,1},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
    },
    /* Black pawn. */
    {
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0},
        {1,0,1,0,1,0,1,0,1},
        {1,0,1,0,1,0,1,0,1},
        
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },

    /* Red knight. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},

        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },
    /* Black knight. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },

    /* Red cannon. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},

        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },
    /* Black cannon. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },

    /* Red rook. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},

        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },
    /* Black rook. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },

    /* Blank space. */
    {
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
        {1,1,1,1,1,1,1,1,1},
    },
};
